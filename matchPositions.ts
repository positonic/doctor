//import { matchOrdersToPositions } from "./PositionManager";
//const matchOrdersToPositions = require("./PositionManager");
const orders1 = [
  {
    totalCost: 20012.15244189913,
    id: "TSGFF5-DKHJW-KFLFTF",
    fee: 29.01763,
    ordertxid: "O2TDMP-VCB25-QJ4AZG",
    time: 1711038414136,
    date: "2024-03-21T16:26:54.136Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 186.4132,
    lowestPrice: 186.4132,
    averagePrice: 186.4132,
    exchange: "Kraken",
    trades: [
      {
        id: "TSGFF5-DKHJW-KFLFTF",
        ordertxid: "O2TDMP-VCB25-QJ4AZG",
        pair: "SOL/USD",
        time: 1711038414136,
        type: "buy",
        ordertype: "market",
        price: "186.4132",
        cost: "20012.15296",
        fee: "29.01763",
        vol: 107.35373054,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T16:26:54.136Z",
      },
    ],
  },
  {
    totalCost: 11453.593135368601,
    id: "TKR4SO-GSO5U-OR4TBW",
    fee: 13.74431,
    ordertxid: "OGW77Q-NRDXO-JXC3SR",
    time: 1711029459723,
    date: "2024-03-21T13:57:39.723Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 61.08908814,
    highestPrice: 187.49,
    lowestPrice: 187.49,
    averagePrice: 187.49,
    exchange: "Kraken",
    trades: [
      {
        id: "TKR4SO-GSO5U-OR4TBW",
        ordertxid: "OGW77Q-NRDXO-JXC3SR",
        pair: "SOL/USD",
        time: 1711029459723,
        type: "sell",
        ordertype: "market",
        price: "187.49",
        cost: "11453.59314",
        fee: "13.74431",
        vol: 61.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:57:39.723Z",
      },
    ],
  },
  {
    totalCost: 13207.278,
    id: "TYH4G6-SMOWN-WDQZAM",
    fee: 15.84875,
    ordertxid: "OVMCSR-NTTAY-TMT5SL",
    time: 1711028114863,
    date: "2024-03-21T13:35:14.863Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 70,
    highestPrice: 188.6754,
    lowestPrice: 188.6754,
    averagePrice: 188.6754,
    exchange: "Kraken",
    trades: [
      {
        id: "TYH4G6-SMOWN-WDQZAM",
        ordertxid: "OVMCSR-NTTAY-TMT5SL",
        pair: "SOL/USD",
        time: 1711028114863,
        type: "sell",
        ordertype: "stop market",
        price: "188.6754",
        cost: "13207.27796",
        fee: "15.84875",
        vol: 70,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:35:14.863Z",
      },
    ],
  },
  {
    totalCost: 24776.760525640504,
    id: "TBBVZ5-ZYFHU-36BQAW",
    fee: 29.73211,
    ordertxid: "OUBLJA-BJ7WO-J7S72J",
    time: 1711028096057,
    date: "2024-03-21T13:34:56.057Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 131.08908814,
    highestPrice: 189.00704,
    lowestPrice: 189.00704,
    averagePrice: 189.00704,
    exchange: "Kraken",
    trades: [
      {
        id: "TBBVZ5-ZYFHU-36BQAW",
        ordertxid: "OUBLJA-BJ7WO-J7S72J",
        pair: "SOL/USD",
        time: 1711028096057,
        type: "sell",
        ordertype: "stop market",
        price: "189.00704",
        cost: "24776.76084",
        fee: "29.73211",
        vol: 131.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:34:56.057Z",
      },
    ],
  },
  {
    totalCost: 50020.73829210255,
    id: "TLEM56-UJM42-FZBXQ6",
    fee: 72.53007,
    ordertxid: "OIORL4-HTGMC-DHNUHO",
    time: 1711024229645,
    date: "2024-03-21T12:30:29.645Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.17817628,
    highestPrice: 190.7891,
    lowestPrice: 190.7891,
    averagePrice: 190.7891,
    exchange: "Kraken",
    trades: [
      {
        id: "TLEM56-UJM42-FZBXQ6",
        ordertxid: "OIORL4-HTGMC-DHNUHO",
        pair: "SOL/USD",
        time: 1711024229645,
        type: "buy",
        ordertype: "market",
        price: "190.7891",
        cost: "50020.73785",
        fee: "72.53007",
        vol: 262.17817628,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:30:29.645Z",
      },
    ],
  },
  {
    totalCost: 79757.12873703528,
    id: "T2VYCN-R2UWJ-37SZDL/T3BUZG-7KEZD-6G436D",
    fee: 95.70856,
    ordertxid: "OOIJDO-OXHGP-BBCDEL",
    time: 1711023883160,
    date: "2024-03-21T12:24:43.160Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 420.27016821999996,
    highestPrice: 189.80879,
    lowestPrice: 189.75608,
    averagePrice: 189.7758507933987,
    exchange: "Kraken",
    trades: [
      {
        id: "T2VYCN-R2UWJ-37SZDL",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.75608",
        cost: "49836.13779",
        fee: "59.80337",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
      {
        id: "T3BUZG-7KEZD-6G436D",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.80879",
        cost: "29920.99",
        fee: "35.90519",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
    ],
  },
  {
    totalCost: 50022.625799527435,
    id: "TGML3N-5YTUN-HGKIB7",
    fee: 72.53281,
    ordertxid: "ONRYP6-ABRPS-2GYUDH",
    time: 1711023360093,
    date: "2024-03-21T12:16:00.093Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.63262947,
    highestPrice: 190.46615,
    lowestPrice: 190.46615,
    averagePrice: 190.46615,
    exchange: "Kraken",
    trades: [
      {
        id: "TGML3N-5YTUN-HGKIB7",
        ordertxid: "ONRYP6-ABRPS-2GYUDH",
        pair: "SOL/USD",
        time: 1711023360093,
        type: "buy",
        ordertype: "market",
        price: "190.46615",
        cost: "50022.62681",
        fee: "72.53281",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:16:00.093Z",
      },
    ],
  },
  {
    totalCost: 30022.393988267326,
    id: "TA4DPV-JJGZA-DLCUKI",
    fee: 43.53245,
    ordertxid: "OVNGSD-LN27M-TEQQGB",
    time: 1711019369028,
    date: "2024-03-21T11:09:29.028Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 157.63753875,
    highestPrice: 190.45206,
    lowestPrice: 190.45206,
    averagePrice: 190.45206,
    exchange: "Kraken",
    trades: [
      {
        id: "TA4DPV-JJGZA-DLCUKI",
        ordertxid: "OVNGSD-LN27M-TEQQGB",
        pair: "SOL/USD",
        time: 1711019369028,
        type: "buy",
        ordertype: "market",
        price: "190.45206",
        cost: "30022.39373",
        fee: "43.53245",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T11:09:29.028Z",
      },
    ],
  },
  {
    totalCost: 19781.956073808,
    id: "T3SMK2-RTVDC-GLDVJL",
    fee: 23.73835,
    ordertxid: "OUATGZ-HZ5J7-HN56HK",
    time: 1711017721037,
    date: "2024-03-21T10:42:01.037Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 187.8,
    lowestPrice: 187.8,
    averagePrice: 187.8,
    exchange: "Kraken",
    trades: [
      {
        id: "T3SMK2-RTVDC-GLDVJL",
        ordertxid: "OUATGZ-HZ5J7-HN56HK",
        pair: "SOL/USD",
        time: 1711017721037,
        type: "sell",
        ordertype: "market",
        price: "187.8",
        cost: "19781.95607",
        fee: "23.73835",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:42:01.037Z",
      },
    ],
  },
  {
    totalCost: 20005.26359999432,
    id: "TFGNWA-L2KPN-5EF5A7",
    fee: 29.00763,
    ordertxid: "OH734O-HZC4K-3GCVUP",
    time: 1711016577319,
    date: "2024-03-21T10:22:57.319Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 189.91997,
    lowestPrice: 189.91997,
    averagePrice: 189.91997,
    exchange: "Kraken",
    trades: [
      {
        id: "TFGNWA-L2KPN-5EF5A7",
        ordertxid: "OH734O-HZC4K-3GCVUP",
        pair: "SOL/USD",
        time: 1711016577319,
        type: "buy",
        ordertype: "market",
        price: "189.91997",
        cost: "20005.26356",
        fee: "29.00763",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:22:57.319Z",
      },
    ],
  },
  {
    totalCost: 37802.67580969607,
    id: "T65F5V-37URA-L7WYFO",
    fee: 45.3632,
    ordertxid: "OYF5DY-6DV5C-YSIIIZ",
    time: 1710979699777,
    date: "2024-03-21T00:08:19.777Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 198.75115199,
    highestPrice: 190.20104,
    lowestPrice: 190.20104,
    averagePrice: 190.20104,
    exchange: "Kraken",
    trades: [
      {
        id: "T65F5V-37URA-L7WYFO",
        ordertxid: "OYF5DY-6DV5C-YSIIIZ",
        pair: "SOL/USD",
        time: 1710979699777,
        type: "sell",
        ordertype: "market",
        price: "190.20104",
        cost: "37802.67577",
        fee: "45.3632",
        vol: 198.75115199,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T00:08:19.777Z",
      },
    ],
  },
];
const threeSellOrders = [
  {
    totalCost: 11453.593135368601,
    id: "TKR4SO-GSO5U-OR4TBW",
    fee: 13.74431,
    ordertxid: "OGW77Q-NRDXO-JXC3SR",
    time: 1711029459723,
    date: "2024-03-21T13:57:39.723Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 61.08908814,
    highestPrice: 187.49,
    lowestPrice: 187.49,
    averagePrice: 187.49,
    exchange: "Kraken",
    trades: [
      {
        id: "TKR4SO-GSO5U-OR4TBW",
        ordertxid: "OGW77Q-NRDXO-JXC3SR",
        pair: "SOL/USD",
        time: 1711029459723,
        type: "sell",
        ordertype: "market",
        price: "187.49",
        cost: "11453.59314",
        fee: "13.74431",
        vol: 61.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:57:39.723Z",
      },
    ],
  },
  {
    totalCost: 13207.278,
    id: "TYH4G6-SMOWN-WDQZAM",
    fee: 15.84875,
    ordertxid: "OVMCSR-NTTAY-TMT5SL",
    time: 1711028114863,
    date: "2024-03-21T13:35:14.863Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 70,
    highestPrice: 188.6754,
    lowestPrice: 188.6754,
    averagePrice: 188.6754,
    exchange: "Kraken",
    trades: [
      {
        id: "TYH4G6-SMOWN-WDQZAM",
        ordertxid: "OVMCSR-NTTAY-TMT5SL",
        pair: "SOL/USD",
        time: 1711028114863,
        type: "sell",
        ordertype: "stop market",
        price: "188.6754",
        cost: "13207.27796",
        fee: "15.84875",
        vol: 70,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:35:14.863Z",
      },
    ],
  },
  {
    totalCost: 24776.760525640504,
    id: "TBBVZ5-ZYFHU-36BQAW",
    fee: 29.73211,
    ordertxid: "OUBLJA-BJ7WO-J7S72J",
    time: 1711028096057,
    date: "2024-03-21T13:34:56.057Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 131.08908814,
    highestPrice: 189.00704,
    lowestPrice: 189.00704,
    averagePrice: 189.00704,
    exchange: "Kraken",
    trades: [
      {
        id: "TBBVZ5-ZYFHU-36BQAW",
        ordertxid: "OUBLJA-BJ7WO-J7S72J",
        pair: "SOL/USD",
        time: 1711028096057,
        type: "sell",
        ordertype: "stop market",
        price: "189.00704",
        cost: "24776.76084",
        fee: "29.73211",
        vol: 131.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:34:56.057Z",
      },
    ],
  },
];
const oneBuyThreeSellOrders = [
  {
    totalCost: 11453.593135368601,
    id: "TKR4SO-GSO5U-OR4TBW",
    fee: 13.74431,
    ordertxid: "OGW77Q-NRDXO-JXC3SR",
    time: 1711029459723,
    date: "2024-03-21T13:57:39.723Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 61.08908814,
    highestPrice: 187.49,
    lowestPrice: 187.49,
    averagePrice: 187.49,
    exchange: "Kraken",
    trades: [
      {
        id: "TKR4SO-GSO5U-OR4TBW",
        ordertxid: "OGW77Q-NRDXO-JXC3SR",
        pair: "SOL/USD",
        time: 1711029459723,
        type: "sell",
        ordertype: "market",
        price: "187.49",
        cost: "11453.59314",
        fee: "13.74431",
        vol: 61.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:57:39.723Z",
      },
    ],
  },
  {
    totalCost: 13207.278,
    id: "TYH4G6-SMOWN-WDQZAM",
    fee: 15.84875,
    ordertxid: "OVMCSR-NTTAY-TMT5SL",
    time: 1711028114863,
    date: "2024-03-21T13:35:14.863Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 70,
    highestPrice: 188.6754,
    lowestPrice: 188.6754,
    averagePrice: 188.6754,
    exchange: "Kraken",
    trades: [
      {
        id: "TYH4G6-SMOWN-WDQZAM",
        ordertxid: "OVMCSR-NTTAY-TMT5SL",
        pair: "SOL/USD",
        time: 1711028114863,
        type: "sell",
        ordertype: "stop market",
        price: "188.6754",
        cost: "13207.27796",
        fee: "15.84875",
        vol: 70,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:35:14.863Z",
      },
    ],
  },
  {
    totalCost: 24776.760525640504,
    id: "TBBVZ5-ZYFHU-36BQAW",
    fee: 29.73211,
    ordertxid: "OUBLJA-BJ7WO-J7S72J",
    time: 1711028096057,
    date: "2024-03-21T13:34:56.057Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 131.08908814,
    highestPrice: 189.00704,
    lowestPrice: 189.00704,
    averagePrice: 189.00704,
    exchange: "Kraken",
    trades: [
      {
        id: "TBBVZ5-ZYFHU-36BQAW",
        ordertxid: "OUBLJA-BJ7WO-J7S72J",
        pair: "SOL/USD",
        time: 1711028096057,
        type: "sell",
        ordertype: "stop market",
        price: "189.00704",
        cost: "24776.76084",
        fee: "29.73211",
        vol: 131.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:34:56.057Z",
      },
    ],
  },
  {
    totalCost: 50020.73829210255,
    id: "TLEM56-UJM42-FZBXQ6",
    fee: 72.53007,
    ordertxid: "OIORL4-HTGMC-DHNUHO",
    time: 1711024229645,
    date: "2024-03-21T12:30:29.645Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.17817628,
    highestPrice: 190.7891,
    lowestPrice: 190.7891,
    averagePrice: 190.7891,
    exchange: "Kraken",
    trades: [
      {
        id: "TLEM56-UJM42-FZBXQ6",
        ordertxid: "OIORL4-HTGMC-DHNUHO",
        pair: "SOL/USD",
        time: 1711024229645,
        type: "buy",
        ordertype: "market",
        price: "190.7891",
        cost: "50020.73785",
        fee: "72.53007",
        vol: 262.17817628,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:30:29.645Z",
      },
    ],
  },
];
const brokenOrders = [
  {
    totalCost: 11615.679826720001,
    id: "TIMTCA-MSQVF-I6EPVV",
    fee: 13.93882,
    ordertxid: "OZRYF6-E64SG-FBL44H",
    time: 1711103109323,
    date: "2024-03-22T10:25:09.323Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 66.250384,
    highestPrice: 175.33,
    lowestPrice: 175.33,
    averagePrice: 175.33,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 19876.677401644174,
    id: "TKJQFI-S6LME-DSKU5W",
    fee: 23.852,
    ordertxid: "OTWLRD-BRGA6-NOATPC",
    time: 1711039078218,
    date: "2024-03-21T16:37:58.218Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 185.15125,
    lowestPrice: 185.15125,
    averagePrice: 185.15125,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 20012.15244189913,
    id: "TSGFF5-DKHJW-KFLFTF",
    fee: 29.01763,
    ordertxid: "O2TDMP-VCB25-QJ4AZG",
    time: 1711038414136,
    date: "2024-03-21T16:26:54.136Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 186.4132,
    lowestPrice: 186.4132,
    averagePrice: 186.4132,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 11453.593135368601,
    id: "TKR4SO-GSO5U-OR4TBW",
    fee: 13.74431,
    ordertxid: "OGW77Q-NRDXO-JXC3SR",
    time: 1711029459723,
    date: "2024-03-21T13:57:39.723Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 61.08908814,
    highestPrice: 187.49,
    lowestPrice: 187.49,
    averagePrice: 187.49,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 13207.278,
    id: "TYH4G6-SMOWN-WDQZAM",
    fee: 15.84875,
    ordertxid: "OVMCSR-NTTAY-TMT5SL",
    time: 1711028114863,
    date: "2024-03-21T13:35:14.863Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 70,
    highestPrice: 188.6754,
    lowestPrice: 188.6754,
    averagePrice: 188.6754,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 24776.760525640504,
    id: "TBBVZ5-ZYFHU-36BQAW",
    fee: 29.73211,
    ordertxid: "OUBLJA-BJ7WO-J7S72J",
    time: 1711028096057,
    date: "2024-03-21T13:34:56.057Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 131.08908814,
    highestPrice: 189.00704,
    lowestPrice: 189.00704,
    averagePrice: 189.00704,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 50020.73829210255,
    id: "TLEM56-UJM42-FZBXQ6",
    fee: 72.53007,
    ordertxid: "OIORL4-HTGMC-DHNUHO",
    time: 1711024229645,
    date: "2024-03-21T12:30:29.645Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.17817628,
    highestPrice: 190.7891,
    lowestPrice: 190.7891,
    averagePrice: 190.7891,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 79757.12873703528,
    id: "T2VYCN-R2UWJ-37SZDL/T3BUZG-7KEZD-6G436D",
    fee: 95.70856,
    ordertxid: "OOIJDO-OXHGP-BBCDEL",
    time: 1711023883160,
    date: "2024-03-21T12:24:43.160Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 420.27016821999996,
    highestPrice: 189.80879,
    lowestPrice: 189.75608,
    averagePrice: 189.7758507933987,
    exchange: "Kraken",
    trades: [[Object], [Object]],
  },
  {
    totalCost: 50022.625799527435,
    id: "TGML3N-5YTUN-HGKIB7",
    fee: 72.53281,
    ordertxid: "ONRYP6-ABRPS-2GYUDH",
    time: 1711023360093,
    date: "2024-03-21T12:16:00.093Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.63262947,
    highestPrice: 190.46615,
    lowestPrice: 190.46615,
    averagePrice: 190.46615,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 30022.393988267326,
    id: "TA4DPV-JJGZA-DLCUKI",
    fee: 43.53245,
    ordertxid: "OVNGSD-LN27M-TEQQGB",
    time: 1711019369028,
    date: "2024-03-21T11:09:29.028Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 157.63753875,
    highestPrice: 190.45206,
    lowestPrice: 190.45206,
    averagePrice: 190.45206,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 19781.956073808,
    id: "T3SMK2-RTVDC-GLDVJL",
    fee: 23.73835,
    ordertxid: "OUATGZ-HZ5J7-HN56HK",
    time: 1711017721037,
    date: "2024-03-21T10:42:01.037Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 187.8,
    lowestPrice: 187.8,
    averagePrice: 187.8,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 20005.26359999432,
    id: "TFGNWA-L2KPN-5EF5A7",
    fee: 29.00763,
    ordertxid: "OH734O-HZC4K-3GCVUP",
    time: 1711016577319,
    date: "2024-03-21T10:22:57.319Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 189.91997,
    lowestPrice: 189.91997,
    averagePrice: 189.91997,
    exchange: "Kraken",
    trades: [[Object]],
  },
  {
    totalCost: 37802.67580969607,
    id: "T65F5V-37URA-L7WYFO",
    fee: 45.3632,
    ordertxid: "OYF5DY-6DV5C-YSIIIZ",
    time: 1710979699777,
    date: "2024-03-21T00:08:19.777Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 198.75115199,
    highestPrice: 190.20104,
    lowestPrice: 190.20104,
    averagePrice: 190.20104,
    exchange: "Kraken",
    trades: [[Object]],
  },
];
const brokenOrdersAgain = [
  {
    totalCost: 11615.679826720001,
    id: "TIMTCA-MSQVF-I6EPVV",
    fee: 13.93882,
    ordertxid: "OZRYF6-E64SG-FBL44H",
    time: 1711103109323,
    date: "2024-03-22T10:25:09.323Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 66.250384,
    highestPrice: 175.33,
    lowestPrice: 175.33,
    averagePrice: 175.33,
    exchange: "Kraken",
    trades: [
      {
        id: "TIMTCA-MSQVF-I6EPVV",
        ordertxid: "OZRYF6-E64SG-FBL44H",
        pair: "SOL/USD",
        time: 1711103109323,
        type: "sell",
        ordertype: "market",
        price: "175.33",
        cost: "11615.67983",
        fee: "13.93882",
        vol: 66.250384,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-22T10:25:09.323Z",
      },
    ],
  },
  {
    totalCost: 19876.677401644174,
    id: "TKJQFI-S6LME-DSKU5W",
    fee: 23.852,
    ordertxid: "OTWLRD-BRGA6-NOATPC",
    time: 1711039078218,
    date: "2024-03-21T16:37:58.218Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 185.15125,
    lowestPrice: 185.15125,
    averagePrice: 185.15125,
    exchange: "Kraken",
    trades: [
      {
        id: "TKJQFI-S6LME-DSKU5W",
        ordertxid: "OTWLRD-BRGA6-NOATPC",
        pair: "SOL/USD",
        time: 1711039078218,
        type: "sell",
        ordertype: "market",
        price: "185.15125",
        cost: "19876.67732",
        fee: "23.852",
        vol: 107.35373054,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T16:37:58.218Z",
      },
    ],
  },
  {
    totalCost: 20012.15244189913,
    id: "TSGFF5-DKHJW-KFLFTF",
    fee: 29.01763,
    ordertxid: "O2TDMP-VCB25-QJ4AZG",
    time: 1711038414136,
    date: "2024-03-21T16:26:54.136Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 186.4132,
    lowestPrice: 186.4132,
    averagePrice: 186.4132,
    exchange: "Kraken",
    trades: [
      {
        id: "TSGFF5-DKHJW-KFLFTF",
        ordertxid: "O2TDMP-VCB25-QJ4AZG",
        pair: "SOL/USD",
        time: 1711038414136,
        type: "buy",
        ordertype: "market",
        price: "186.4132",
        cost: "20012.15296",
        fee: "29.01763",
        vol: 107.35373054,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T16:26:54.136Z",
      },
    ],
  },
  {
    totalCost: 11453.593135368601,
    id: "TKR4SO-GSO5U-OR4TBW",
    fee: 13.74431,
    ordertxid: "OGW77Q-NRDXO-JXC3SR",
    time: 1711029459723,
    date: "2024-03-21T13:57:39.723Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 61.08908814,
    highestPrice: 187.49,
    lowestPrice: 187.49,
    averagePrice: 187.49,
    exchange: "Kraken",
    trades: [
      {
        id: "TKR4SO-GSO5U-OR4TBW",
        ordertxid: "OGW77Q-NRDXO-JXC3SR",
        pair: "SOL/USD",
        time: 1711029459723,
        type: "sell",
        ordertype: "market",
        price: "187.49",
        cost: "11453.59314",
        fee: "13.74431",
        vol: 61.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:57:39.723Z",
      },
    ],
  },
  {
    totalCost: 13207.278,
    id: "TYH4G6-SMOWN-WDQZAM",
    fee: 15.84875,
    ordertxid: "OVMCSR-NTTAY-TMT5SL",
    time: 1711028114863,
    date: "2024-03-21T13:35:14.863Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 70,
    highestPrice: 188.6754,
    lowestPrice: 188.6754,
    averagePrice: 188.6754,
    exchange: "Kraken",
    trades: [
      {
        id: "TYH4G6-SMOWN-WDQZAM",
        ordertxid: "OVMCSR-NTTAY-TMT5SL",
        pair: "SOL/USD",
        time: 1711028114863,
        type: "sell",
        ordertype: "stop market",
        price: "188.6754",
        cost: "13207.27796",
        fee: "15.84875",
        vol: 70,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:35:14.863Z",
      },
    ],
  },
  {
    totalCost: 24776.760525640504,
    id: "TBBVZ5-ZYFHU-36BQAW",
    fee: 29.73211,
    ordertxid: "OUBLJA-BJ7WO-J7S72J",
    time: 1711028096057,
    date: "2024-03-21T13:34:56.057Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 131.08908814,
    highestPrice: 189.00704,
    lowestPrice: 189.00704,
    averagePrice: 189.00704,
    exchange: "Kraken",
    trades: [
      {
        id: "TBBVZ5-ZYFHU-36BQAW",
        ordertxid: "OUBLJA-BJ7WO-J7S72J",
        pair: "SOL/USD",
        time: 1711028096057,
        type: "sell",
        ordertype: "stop market",
        price: "189.00704",
        cost: "24776.76084",
        fee: "29.73211",
        vol: 131.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:34:56.057Z",
      },
    ],
  },
  {
    totalCost: 50020.73829210255,
    id: "TLEM56-UJM42-FZBXQ6",
    fee: 72.53007,
    ordertxid: "OIORL4-HTGMC-DHNUHO",
    time: 1711024229645,
    date: "2024-03-21T12:30:29.645Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.17817628,
    highestPrice: 190.7891,
    lowestPrice: 190.7891,
    averagePrice: 190.7891,
    exchange: "Kraken",
    trades: [
      {
        id: "TLEM56-UJM42-FZBXQ6",
        ordertxid: "OIORL4-HTGMC-DHNUHO",
        pair: "SOL/USD",
        time: 1711024229645,
        type: "buy",
        ordertype: "market",
        price: "190.7891",
        cost: "50020.73785",
        fee: "72.53007",
        vol: 262.17817628,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:30:29.645Z",
      },
    ],
  },
  {
    totalCost: 79757.12873703528,
    id: "T2VYCN-R2UWJ-37SZDL/T3BUZG-7KEZD-6G436D",
    fee: 95.70856,
    ordertxid: "OOIJDO-OXHGP-BBCDEL",
    time: 1711023883160,
    date: "2024-03-21T12:24:43.160Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 420.27016821999996,
    highestPrice: 189.80879,
    lowestPrice: 189.75608,
    averagePrice: 189.7758507933987,
    exchange: "Kraken",
    trades: [
      {
        id: "T2VYCN-R2UWJ-37SZDL",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.75608",
        cost: "49836.13779",
        fee: "59.80337",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
      {
        id: "T3BUZG-7KEZD-6G436D",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.80879",
        cost: "29920.99",
        fee: "35.90519",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
    ],
  },
  {
    totalCost: 50022.625799527435,
    id: "TGML3N-5YTUN-HGKIB7",
    fee: 72.53281,
    ordertxid: "ONRYP6-ABRPS-2GYUDH",
    time: 1711023360093,
    date: "2024-03-21T12:16:00.093Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.63262947,
    highestPrice: 190.46615,
    lowestPrice: 190.46615,
    averagePrice: 190.46615,
    exchange: "Kraken",
    trades: [
      {
        id: "TGML3N-5YTUN-HGKIB7",
        ordertxid: "ONRYP6-ABRPS-2GYUDH",
        pair: "SOL/USD",
        time: 1711023360093,
        type: "buy",
        ordertype: "market",
        price: "190.46615",
        cost: "50022.62681",
        fee: "72.53281",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:16:00.093Z",
      },
    ],
  },
  {
    totalCost: 30022.393988267326,
    id: "TA4DPV-JJGZA-DLCUKI",
    fee: 43.53245,
    ordertxid: "OVNGSD-LN27M-TEQQGB",
    time: 1711019369028,
    date: "2024-03-21T11:09:29.028Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 157.63753875,
    highestPrice: 190.45206,
    lowestPrice: 190.45206,
    averagePrice: 190.45206,
    exchange: "Kraken",
    trades: [
      {
        id: "TA4DPV-JJGZA-DLCUKI",
        ordertxid: "OVNGSD-LN27M-TEQQGB",
        pair: "SOL/USD",
        time: 1711019369028,
        type: "buy",
        ordertype: "market",
        price: "190.45206",
        cost: "30022.39373",
        fee: "43.53245",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T11:09:29.028Z",
      },
    ],
  },
  {
    totalCost: 19781.956073808,
    id: "T3SMK2-RTVDC-GLDVJL",
    fee: 23.73835,
    ordertxid: "OUATGZ-HZ5J7-HN56HK",
    time: 1711017721037,
    date: "2024-03-21T10:42:01.037Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 187.8,
    lowestPrice: 187.8,
    averagePrice: 187.8,
    exchange: "Kraken",
    trades: [
      {
        id: "T3SMK2-RTVDC-GLDVJL",
        ordertxid: "OUATGZ-HZ5J7-HN56HK",
        pair: "SOL/USD",
        time: 1711017721037,
        type: "sell",
        ordertype: "market",
        price: "187.8",
        cost: "19781.95607",
        fee: "23.73835",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:42:01.037Z",
      },
    ],
  },
  {
    totalCost: 20005.26359999432,
    id: "TFGNWA-L2KPN-5EF5A7",
    fee: 29.00763,
    ordertxid: "OH734O-HZC4K-3GCVUP",
    time: 1711016577319,
    date: "2024-03-21T10:22:57.319Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 189.91997,
    lowestPrice: 189.91997,
    averagePrice: 189.91997,
    exchange: "Kraken",
    trades: [
      {
        id: "TFGNWA-L2KPN-5EF5A7",
        ordertxid: "OH734O-HZC4K-3GCVUP",
        pair: "SOL/USD",
        time: 1711016577319,
        type: "buy",
        ordertype: "market",
        price: "189.91997",
        cost: "20005.26356",
        fee: "29.00763",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:22:57.319Z",
      },
    ],
  },
  {
    totalCost: 37802.67580969607,
    id: "T65F5V-37URA-L7WYFO",
    fee: 45.3632,
    ordertxid: "OYF5DY-6DV5C-YSIIIZ",
    time: 1710979699777,
    date: "2024-03-21T00:08:19.777Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 198.75115199,
    highestPrice: 190.20104,
    lowestPrice: 190.20104,
    averagePrice: 190.20104,
    exchange: "Kraken",
    trades: [
      {
        id: "T65F5V-37URA-L7WYFO",
        ordertxid: "OYF5DY-6DV5C-YSIIIZ",
        pair: "SOL/USD",
        time: 1710979699777,
        type: "sell",
        ordertype: "market",
        price: "190.20104",
        cost: "37802.67577",
        fee: "45.3632",
        vol: 198.75115199,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T00:08:19.777Z",
      },
    ],
  },
];
const allOrdersToday = [
  {
    totalCost: 19876.677401644174,
    id: "TKJQFI-S6LME-DSKU5W",
    fee: 23.852,
    ordertxid: "OTWLRD-BRGA6-NOATPC",
    time: 1711039078218,
    date: "2024-03-21T16:37:58.218Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 185.15125,
    lowestPrice: 185.15125,
    averagePrice: 185.15125,
    exchange: "Kraken",
    trades: [
      {
        id: "TKJQFI-S6LME-DSKU5W",
        ordertxid: "OTWLRD-BRGA6-NOATPC",
        pair: "SOL/USD",
        time: 1711039078218,
        type: "sell",
        ordertype: "market",
        price: "185.15125",
        cost: "19876.67732",
        fee: "23.852",
        vol: 107.35373054,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T16:37:58.218Z",
      },
    ],
  },
  {
    totalCost: 20012.15244189913,
    id: "TSGFF5-DKHJW-KFLFTF",
    fee: 29.01763,
    ordertxid: "O2TDMP-VCB25-QJ4AZG",
    time: 1711038414136,
    date: "2024-03-21T16:26:54.136Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 186.4132,
    lowestPrice: 186.4132,
    averagePrice: 186.4132,
    exchange: "Kraken",
    trades: [
      {
        id: "TSGFF5-DKHJW-KFLFTF",
        ordertxid: "O2TDMP-VCB25-QJ4AZG",
        pair: "SOL/USD",
        time: 1711038414136,
        type: "buy",
        ordertype: "market",
        price: "186.4132",
        cost: "20012.15296",
        fee: "29.01763",
        vol: 107.35373054,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T16:26:54.136Z",
      },
    ],
  },
  {
    totalCost: 11453.593135368601,
    id: "TKR4SO-GSO5U-OR4TBW",
    fee: 13.74431,
    ordertxid: "OGW77Q-NRDXO-JXC3SR",
    time: 1711029459723,
    date: "2024-03-21T13:57:39.723Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 61.08908814,
    highestPrice: 187.49,
    lowestPrice: 187.49,
    averagePrice: 187.49,
    exchange: "Kraken",
    trades: [
      {
        id: "TKR4SO-GSO5U-OR4TBW",
        ordertxid: "OGW77Q-NRDXO-JXC3SR",
        pair: "SOL/USD",
        time: 1711029459723,
        type: "sell",
        ordertype: "market",
        price: "187.49",
        cost: "11453.59314",
        fee: "13.74431",
        vol: 61.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:57:39.723Z",
      },
    ],
  },
  {
    totalCost: 13207.278,
    id: "TYH4G6-SMOWN-WDQZAM",
    fee: 15.84875,
    ordertxid: "OVMCSR-NTTAY-TMT5SL",
    time: 1711028114863,
    date: "2024-03-21T13:35:14.863Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 70,
    highestPrice: 188.6754,
    lowestPrice: 188.6754,
    averagePrice: 188.6754,
    exchange: "Kraken",
    trades: [
      {
        id: "TYH4G6-SMOWN-WDQZAM",
        ordertxid: "OVMCSR-NTTAY-TMT5SL",
        pair: "SOL/USD",
        time: 1711028114863,
        type: "sell",
        ordertype: "stop market",
        price: "188.6754",
        cost: "13207.27796",
        fee: "15.84875",
        vol: 70,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:35:14.863Z",
      },
    ],
  },
  {
    totalCost: 24776.760525640504,
    id: "TBBVZ5-ZYFHU-36BQAW",
    fee: 29.73211,
    ordertxid: "OUBLJA-BJ7WO-J7S72J",
    time: 1711028096057,
    date: "2024-03-21T13:34:56.057Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 131.08908814,
    highestPrice: 189.00704,
    lowestPrice: 189.00704,
    averagePrice: 189.00704,
    exchange: "Kraken",
    trades: [
      {
        id: "TBBVZ5-ZYFHU-36BQAW",
        ordertxid: "OUBLJA-BJ7WO-J7S72J",
        pair: "SOL/USD",
        time: 1711028096057,
        type: "sell",
        ordertype: "stop market",
        price: "189.00704",
        cost: "24776.76084",
        fee: "29.73211",
        vol: 131.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:34:56.057Z",
      },
    ],
  },
  {
    totalCost: 50020.73829210255,
    id: "TLEM56-UJM42-FZBXQ6",
    fee: 72.53007,
    ordertxid: "OIORL4-HTGMC-DHNUHO",
    time: 1711024229645,
    date: "2024-03-21T12:30:29.645Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.17817628,
    highestPrice: 190.7891,
    lowestPrice: 190.7891,
    averagePrice: 190.7891,
    exchange: "Kraken",
    trades: [
      {
        id: "TLEM56-UJM42-FZBXQ6",
        ordertxid: "OIORL4-HTGMC-DHNUHO",
        pair: "SOL/USD",
        time: 1711024229645,
        type: "buy",
        ordertype: "market",
        price: "190.7891",
        cost: "50020.73785",
        fee: "72.53007",
        vol: 262.17817628,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:30:29.645Z",
      },
    ],
  },
  {
    totalCost: 79757.12873703528,
    id: "T2VYCN-R2UWJ-37SZDL/T3BUZG-7KEZD-6G436D",
    fee: 95.70856,
    ordertxid: "OOIJDO-OXHGP-BBCDEL",
    time: 1711023883160,
    date: "2024-03-21T12:24:43.160Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 420.27016821999996,
    highestPrice: 189.80879,
    lowestPrice: 189.75608,
    averagePrice: 189.7758507933987,
    exchange: "Kraken",
    trades: [
      {
        id: "T2VYCN-R2UWJ-37SZDL",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.75608",
        cost: "49836.13779",
        fee: "59.80337",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
      {
        id: "T3BUZG-7KEZD-6G436D",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.80879",
        cost: "29920.99",
        fee: "35.90519",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
    ],
  },
  {
    totalCost: 50022.625799527435,
    id: "TGML3N-5YTUN-HGKIB7",
    fee: 72.53281,
    ordertxid: "ONRYP6-ABRPS-2GYUDH",
    time: 1711023360093,
    date: "2024-03-21T12:16:00.093Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.63262947,
    highestPrice: 190.46615,
    lowestPrice: 190.46615,
    averagePrice: 190.46615,
    exchange: "Kraken",
    trades: [
      {
        id: "TGML3N-5YTUN-HGKIB7",
        ordertxid: "ONRYP6-ABRPS-2GYUDH",
        pair: "SOL/USD",
        time: 1711023360093,
        type: "buy",
        ordertype: "market",
        price: "190.46615",
        cost: "50022.62681",
        fee: "72.53281",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:16:00.093Z",
      },
    ],
  },
  {
    totalCost: 30022.393988267326,
    id: "TA4DPV-JJGZA-DLCUKI",
    fee: 43.53245,
    ordertxid: "OVNGSD-LN27M-TEQQGB",
    time: 1711019369028,
    date: "2024-03-21T11:09:29.028Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 157.63753875,
    highestPrice: 190.45206,
    lowestPrice: 190.45206,
    averagePrice: 190.45206,
    exchange: "Kraken",
    trades: [
      {
        id: "TA4DPV-JJGZA-DLCUKI",
        ordertxid: "OVNGSD-LN27M-TEQQGB",
        pair: "SOL/USD",
        time: 1711019369028,
        type: "buy",
        ordertype: "market",
        price: "190.45206",
        cost: "30022.39373",
        fee: "43.53245",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T11:09:29.028Z",
      },
    ],
  },
  {
    totalCost: 19781.956073808,
    id: "T3SMK2-RTVDC-GLDVJL",
    fee: 23.73835,
    ordertxid: "OUATGZ-HZ5J7-HN56HK",
    time: 1711017721037,
    date: "2024-03-21T10:42:01.037Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 187.8,
    lowestPrice: 187.8,
    averagePrice: 187.8,
    exchange: "Kraken",
    trades: [
      {
        id: "T3SMK2-RTVDC-GLDVJL",
        ordertxid: "OUATGZ-HZ5J7-HN56HK",
        pair: "SOL/USD",
        time: 1711017721037,
        type: "sell",
        ordertype: "market",
        price: "187.8",
        cost: "19781.95607",
        fee: "23.73835",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:42:01.037Z",
      },
    ],
  },
  {
    totalCost: 20005.26359999432,
    id: "TFGNWA-L2KPN-5EF5A7",
    fee: 29.00763,
    ordertxid: "OH734O-HZC4K-3GCVUP",
    time: 1711016577319,
    date: "2024-03-21T10:22:57.319Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 189.91997,
    lowestPrice: 189.91997,
    averagePrice: 189.91997,
    exchange: "Kraken",
    trades: [
      {
        id: "TFGNWA-L2KPN-5EF5A7",
        ordertxid: "OH734O-HZC4K-3GCVUP",
        pair: "SOL/USD",
        time: 1711016577319,
        type: "buy",
        ordertype: "market",
        price: "189.91997",
        cost: "20005.26356",
        fee: "29.00763",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:22:57.319Z",
      },
    ],
  },
  {
    totalCost: 37802.67580969607,
    id: "T65F5V-37URA-L7WYFO",
    fee: 45.3632,
    ordertxid: "OYF5DY-6DV5C-YSIIIZ",
    time: 1710979699777,
    date: "2024-03-21T00:08:19.777Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 198.75115199,
    highestPrice: 190.20104,
    lowestPrice: 190.20104,
    averagePrice: 190.20104,
    exchange: "Kraken",
    trades: [
      {
        id: "T65F5V-37URA-L7WYFO",
        ordertxid: "OYF5DY-6DV5C-YSIIIZ",
        pair: "SOL/USD",
        time: 1710979699777,
        type: "sell",
        ordertype: "market",
        price: "190.20104",
        cost: "37802.67577",
        fee: "45.3632",
        vol: 198.75115199,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T00:08:19.777Z",
      },
    ],
  },
];
const allOrdersSinceYesterday = [
  {
    totalCost: 11615.679826720001,
    id: "TIMTCA-MSQVF-I6EPVV",
    fee: 13.93882,
    ordertxid: "OZRYF6-E64SG-FBL44H",
    time: 1711103109323,
    date: "2024-03-22T10:25:09.323Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 66.250384,
    highestPrice: 175.33,
    lowestPrice: 175.33,
    averagePrice: 175.33,
    exchange: "Kraken",
    trades: [
      {
        id: "TIMTCA-MSQVF-I6EPVV",
        ordertxid: "OZRYF6-E64SG-FBL44H",
        pair: "SOL/USD",
        time: 1711103109323,
        type: "sell",
        ordertype: "market",
        price: "175.33",
        cost: "11615.67983",
        fee: "13.93882",
        vol: 66.250384,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-22T10:25:09.323Z",
      },
    ],
  },
  {
    totalCost: 19876.677401644174,
    id: "TKJQFI-S6LME-DSKU5W",
    fee: 23.852,
    ordertxid: "OTWLRD-BRGA6-NOATPC",
    time: 1711039078218,
    date: "2024-03-21T16:37:58.218Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 185.15125,
    lowestPrice: 185.15125,
    averagePrice: 185.15125,
    exchange: "Kraken",
    trades: [
      {
        id: "TKJQFI-S6LME-DSKU5W",
        ordertxid: "OTWLRD-BRGA6-NOATPC",
        pair: "SOL/USD",
        time: 1711039078218,
        type: "sell",
        ordertype: "market",
        price: "185.15125",
        cost: "19876.67732",
        fee: "23.852",
        vol: 107.35373054,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T16:37:58.218Z",
      },
    ],
  },
  {
    totalCost: 20012.15244189913,
    id: "TSGFF5-DKHJW-KFLFTF",
    fee: 29.01763,
    ordertxid: "O2TDMP-VCB25-QJ4AZG",
    time: 1711038414136,
    date: "2024-03-21T16:26:54.136Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 107.35373054,
    highestPrice: 186.4132,
    lowestPrice: 186.4132,
    averagePrice: 186.4132,
    exchange: "Kraken",
    trades: [
      {
        id: "TSGFF5-DKHJW-KFLFTF",
        ordertxid: "O2TDMP-VCB25-QJ4AZG",
        pair: "SOL/USD",
        time: 1711038414136,
        type: "buy",
        ordertype: "market",
        price: "186.4132",
        cost: "20012.15296",
        fee: "29.01763",
        vol: 107.35373054,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T16:26:54.136Z",
      },
    ],
  },
  {
    totalCost: 11453.593135368601,
    id: "TKR4SO-GSO5U-OR4TBW",
    fee: 13.74431,
    ordertxid: "OGW77Q-NRDXO-JXC3SR",
    time: 1711029459723,
    date: "2024-03-21T13:57:39.723Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 61.08908814,
    highestPrice: 187.49,
    lowestPrice: 187.49,
    averagePrice: 187.49,
    exchange: "Kraken",
    trades: [
      {
        id: "TKR4SO-GSO5U-OR4TBW",
        ordertxid: "OGW77Q-NRDXO-JXC3SR",
        pair: "SOL/USD",
        time: 1711029459723,
        type: "sell",
        ordertype: "market",
        price: "187.49",
        cost: "11453.59314",
        fee: "13.74431",
        vol: 61.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:57:39.723Z",
      },
    ],
  },
  {
    totalCost: 13207.278,
    id: "TYH4G6-SMOWN-WDQZAM",
    fee: 15.84875,
    ordertxid: "OVMCSR-NTTAY-TMT5SL",
    time: 1711028114863,
    date: "2024-03-21T13:35:14.863Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 70,
    highestPrice: 188.6754,
    lowestPrice: 188.6754,
    averagePrice: 188.6754,
    exchange: "Kraken",
    trades: [
      {
        id: "TYH4G6-SMOWN-WDQZAM",
        ordertxid: "OVMCSR-NTTAY-TMT5SL",
        pair: "SOL/USD",
        time: 1711028114863,
        type: "sell",
        ordertype: "stop market",
        price: "188.6754",
        cost: "13207.27796",
        fee: "15.84875",
        vol: 70,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:35:14.863Z",
      },
    ],
  },
  {
    totalCost: 24776.760525640504,
    id: "TBBVZ5-ZYFHU-36BQAW",
    fee: 29.73211,
    ordertxid: "OUBLJA-BJ7WO-J7S72J",
    time: 1711028096057,
    date: "2024-03-21T13:34:56.057Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 131.08908814,
    highestPrice: 189.00704,
    lowestPrice: 189.00704,
    averagePrice: 189.00704,
    exchange: "Kraken",
    trades: [
      {
        id: "TBBVZ5-ZYFHU-36BQAW",
        ordertxid: "OUBLJA-BJ7WO-J7S72J",
        pair: "SOL/USD",
        time: 1711028096057,
        type: "sell",
        ordertype: "stop market",
        price: "189.00704",
        cost: "24776.76084",
        fee: "29.73211",
        vol: 131.08908814,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T13:34:56.057Z",
      },
    ],
  },
  {
    totalCost: 50020.73829210255,
    id: "TLEM56-UJM42-FZBXQ6",
    fee: 72.53007,
    ordertxid: "OIORL4-HTGMC-DHNUHO",
    time: 1711024229645,
    date: "2024-03-21T12:30:29.645Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.17817628,
    highestPrice: 190.7891,
    lowestPrice: 190.7891,
    averagePrice: 190.7891,
    exchange: "Kraken",
    trades: [
      {
        id: "TLEM56-UJM42-FZBXQ6",
        ordertxid: "OIORL4-HTGMC-DHNUHO",
        pair: "SOL/USD",
        time: 1711024229645,
        type: "buy",
        ordertype: "market",
        price: "190.7891",
        cost: "50020.73785",
        fee: "72.53007",
        vol: 262.17817628,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:30:29.645Z",
      },
    ],
  },
  {
    totalCost: 79757.12873703528,
    id: "T2VYCN-R2UWJ-37SZDL/T3BUZG-7KEZD-6G436D",
    fee: 95.70856,
    ordertxid: "OOIJDO-OXHGP-BBCDEL",
    time: 1711023883160,
    date: "2024-03-21T12:24:43.160Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 420.27016821999996,
    highestPrice: 189.80879,
    lowestPrice: 189.75608,
    averagePrice: 189.7758507933987,
    exchange: "Kraken",
    trades: [
      {
        id: "T2VYCN-R2UWJ-37SZDL",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.75608",
        cost: "49836.13779",
        fee: "59.80337",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
      {
        id: "T3BUZG-7KEZD-6G436D",
        ordertxid: "OOIJDO-OXHGP-BBCDEL",
        pair: "SOL/USD",
        time: 1711023883160,
        type: "sell",
        ordertype: "market",
        price: "189.80879",
        cost: "29920.99",
        fee: "35.90519",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:24:43.160Z",
      },
    ],
  },
  {
    totalCost: 50022.625799527435,
    id: "TGML3N-5YTUN-HGKIB7",
    fee: 72.53281,
    ordertxid: "ONRYP6-ABRPS-2GYUDH",
    time: 1711023360093,
    date: "2024-03-21T12:16:00.093Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 262.63262947,
    highestPrice: 190.46615,
    lowestPrice: 190.46615,
    averagePrice: 190.46615,
    exchange: "Kraken",
    trades: [
      {
        id: "TGML3N-5YTUN-HGKIB7",
        ordertxid: "ONRYP6-ABRPS-2GYUDH",
        pair: "SOL/USD",
        time: 1711023360093,
        type: "buy",
        ordertype: "market",
        price: "190.46615",
        cost: "50022.62681",
        fee: "72.53281",
        vol: 262.63262947,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T12:16:00.093Z",
      },
    ],
  },
  {
    totalCost: 30022.393988267326,
    id: "TA4DPV-JJGZA-DLCUKI",
    fee: 43.53245,
    ordertxid: "OVNGSD-LN27M-TEQQGB",
    time: 1711019369028,
    date: "2024-03-21T11:09:29.028Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 157.63753875,
    highestPrice: 190.45206,
    lowestPrice: 190.45206,
    averagePrice: 190.45206,
    exchange: "Kraken",
    trades: [
      {
        id: "TA4DPV-JJGZA-DLCUKI",
        ordertxid: "OVNGSD-LN27M-TEQQGB",
        pair: "SOL/USD",
        time: 1711019369028,
        type: "buy",
        ordertype: "market",
        price: "190.45206",
        cost: "30022.39373",
        fee: "43.53245",
        vol: 157.63753875,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T11:09:29.028Z",
      },
    ],
  },
  {
    totalCost: 19781.956073808,
    id: "T3SMK2-RTVDC-GLDVJL",
    fee: 23.73835,
    ordertxid: "OUATGZ-HZ5J7-HN56HK",
    time: 1711017721037,
    date: "2024-03-21T10:42:01.037Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 187.8,
    lowestPrice: 187.8,
    averagePrice: 187.8,
    exchange: "Kraken",
    trades: [
      {
        id: "T3SMK2-RTVDC-GLDVJL",
        ordertxid: "OUATGZ-HZ5J7-HN56HK",
        pair: "SOL/USD",
        time: 1711017721037,
        type: "sell",
        ordertype: "market",
        price: "187.8",
        cost: "19781.95607",
        fee: "23.73835",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:42:01.037Z",
      },
    ],
  },
  {
    totalCost: 20005.26359999432,
    id: "TFGNWA-L2KPN-5EF5A7",
    fee: 29.00763,
    ordertxid: "OH734O-HZC4K-3GCVUP",
    time: 1711016577319,
    date: "2024-03-21T10:22:57.319Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 105.33522936,
    highestPrice: 189.91997,
    lowestPrice: 189.91997,
    averagePrice: 189.91997,
    exchange: "Kraken",
    trades: [
      {
        id: "TFGNWA-L2KPN-5EF5A7",
        ordertxid: "OH734O-HZC4K-3GCVUP",
        pair: "SOL/USD",
        time: 1711016577319,
        type: "buy",
        ordertype: "market",
        price: "189.91997",
        cost: "20005.26356",
        fee: "29.00763",
        vol: 105.33522936,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T10:22:57.319Z",
      },
    ],
  },
  {
    totalCost: 37802.67580969607,
    id: "T65F5V-37URA-L7WYFO",
    fee: 45.3632,
    ordertxid: "OYF5DY-6DV5C-YSIIIZ",
    time: 1710979699777,
    date: "2024-03-21T00:08:19.777Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 198.75115199,
    highestPrice: 190.20104,
    lowestPrice: 190.20104,
    averagePrice: 190.20104,
    exchange: "Kraken",
    trades: [
      {
        id: "T65F5V-37URA-L7WYFO",
        ordertxid: "OYF5DY-6DV5C-YSIIIZ",
        pair: "SOL/USD",
        time: 1710979699777,
        type: "sell",
        ordertype: "market",
        price: "190.20104",
        cost: "37802.67577",
        fee: "45.3632",
        vol: 198.75115199,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-21T00:08:19.777Z",
      },
    ],
  },
  {
    totalCost: 9960.953521918198,
    id: "TGH6JT-LURFF-A3WWUN",
    fee: 11.95315,
    ordertxid: "ORBF4A-7ABPP-KTGRUE",
    time: 1710973344030,
    date: "2024-03-20T22:22:24.030Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 52.16211986,
    highestPrice: 190.96144,
    lowestPrice: 190.96144,
    averagePrice: 190.96144,
    exchange: "Kraken",
    trades: [
      {
        id: "TGH6JT-LURFF-A3WWUN",
        ordertxid: "ORBF4A-7ABPP-KTGRUE",
        pair: "SOL/USD",
        time: 1710973344030,
        type: "sell",
        ordertype: "market",
        price: "190.96144",
        cost: "9960.9537",
        fee: "11.95315",
        vol: 52.16211986,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T22:22:24.030Z",
      },
    ],
  },
  {
    totalCost: 10002.60340976281,
    id: "TEBZZQ-4F75S-MQ6YHG",
    fee: 14.50378,
    ordertxid: "OFF5W7-PURZD-ZGBQYO",
    time: 1710972420216,
    date: "2024-03-20T22:07:00.216Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 52.16211986,
    highestPrice: 191.75991,
    lowestPrice: 191.75991,
    averagePrice: 191.75991,
    exchange: "Kraken",
    trades: [
      {
        id: "TEBZZQ-4F75S-MQ6YHG",
        ordertxid: "OFF5W7-PURZD-ZGBQYO",
        pair: "SOL/USD",
        time: 1710972420216,
        type: "buy",
        ordertype: "market",
        price: "191.75991",
        cost: "10002.60315",
        fee: "14.50378",
        vol: 52.16211986,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T22:07:00.216Z",
      },
    ],
  },
  {
    totalCost: 30330.59372201799,
    id: "T3U6XG-3ABXC-HRLDB7",
    fee: 36.39672,
    ordertxid: "O27TYN-52KM6-4UW5PH",
    time: 1710968229157,
    date: "2024-03-20T20:57:09.157Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 161.7773943,
    highestPrice: 187.48351,
    lowestPrice: 187.48351,
    averagePrice: 187.48351,
    exchange: "Kraken",
    trades: [
      {
        id: "T3U6XG-3ABXC-HRLDB7",
        ordertxid: "O27TYN-52KM6-4UW5PH",
        pair: "SOL/USD",
        time: 1710968229157,
        type: "buy",
        ordertype: "market",
        price: "187.48351",
        cost: "30330.59332",
        fee: "36.39672",
        vol: 161.7773943,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:57:09.157Z",
      },
    ],
  },
  {
    totalCost: 29978.983497698486,
    id: "TLBKDL-BW36K-F4ET3C",
    fee: 41.97057,
    ordertxid: "OUTFBS-7GSSZ-VUSV3O",
    time: 1710967919800,
    date: "2024-03-20T20:51:59.800Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 161.7773943,
    highestPrice: 185.31009,
    lowestPrice: 185.31009,
    averagePrice: 185.31009,
    exchange: "Kraken",
    trades: [
      {
        id: "TLBKDL-BW36K-F4ET3C",
        ordertxid: "OUTFBS-7GSSZ-VUSV3O",
        pair: "SOL/USD",
        time: 1710967919800,
        type: "sell",
        ordertype: "market",
        price: "185.31009",
        cost: "29978.98313",
        fee: "41.97057",
        vol: 161.7773943,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:51:59.800Z",
      },
    ],
  },
  {
    totalCost: 30296.03031645289,
    id: "TYC67U-24FN4-QRELBG",
    fee: 36.35524,
    ordertxid: "OMXAZD-K73SX-XN55DI",
    time: 1710967912390,
    date: "2024-03-20T20:51:52.390Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 163.50971678,
    highestPrice: 185.28581,
    lowestPrice: 185.28581,
    averagePrice: 185.28581,
    exchange: "Kraken",
    trades: [
      {
        id: "TYC67U-24FN4-QRELBG",
        ordertxid: "OMXAZD-K73SX-XN55DI",
        pair: "SOL/USD",
        time: 1710967912390,
        type: "sell",
        ordertype: "market",
        price: "185.28581",
        cost: "30296.03033",
        fee: "36.35524",
        vol: 163.50971678,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:51:52.390Z",
      },
    ],
  },
  {
    totalCost: 30308.47448086675,
    id: "THYJAT-JKMET-RYZDF7/TKG7NI-BFY5L-KYTBK5",
    fee: 36.370180000000005,
    ordertxid: "OYXNEU-7KERP-CTTNAR",
    time: 1710967898586,
    date: "2024-03-20T20:51:38.586Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 163.50971678000002,
    highestPrice: 185.38799,
    lowestPrice: 185.31,
    averagePrice: 185.36191657433037,
    exchange: "Kraken",
    trades: [
      {
        id: "THYJAT-JKMET-RYZDF7",
        ordertxid: "OYXNEU-7KERP-CTTNAR",
        pair: "SOL/USD",
        time: 1710967898586,
        type: "sell",
        ordertype: "market",
        price: "185.38799",
        cost: "20178.65749",
        fee: "24.2144",
        vol: 108.84554898,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:51:38.586Z",
      },
      {
        id: "TKG7NI-BFY5L-KYTBK5",
        ordertxid: "OYXNEU-7KERP-CTTNAR",
        pair: "SOL/USD",
        time: 1710967898586,
        type: "sell",
        ordertype: "market",
        price: "185.31",
        cost: "10129.81694",
        fee: "12.15578",
        vol: 54.6641678,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:51:38.586Z",
      },
    ],
  },
  {
    totalCost: 20150.664979156372,
    id: "T5UXYV-LDKOK-JVZEP4",
    fee: 24.18079,
    ordertxid: "OS7ABJ-VWXHC-WPBZCO",
    time: 1710966367997,
    date: "2024-03-20T20:26:07.997Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 109.00647785,
    highestPrice: 184.8575,
    lowestPrice: 184.8575,
    averagePrice: 184.8575,
    exchange: "Kraken",
    trades: [
      {
        id: "T5UXYV-LDKOK-JVZEP4",
        ordertxid: "OS7ABJ-VWXHC-WPBZCO",
        pair: "SOL/USD",
        time: 1710966367997,
        type: "sell",
        ordertype: "market",
        price: "184.8575",
        cost: "20150.66465",
        fee: "24.18079",
        vol: 109.00647785,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:26:07.997Z",
      },
    ],
  },
  {
    totalCost: 26819.64152588205,
    id: "TAXREP-NIUJW-XR5DJV/TQE5HJ-LMDWA-M7TUU4",
    fee: 32.18356,
    ordertxid: "OQYFIG-GEXHA-YUT4DV",
    time: 1710965243372,
    date: "2024-03-20T20:07:23.372Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 145.34197046,
    highestPrice: 184.545,
    lowestPrice: 184.5,
    averagePrice: 184.52785139075272,
    exchange: "Kraken",
    trades: [
      {
        id: "TAXREP-NIUJW-XR5DJV",
        ordertxid: "OQYFIG-GEXHA-YUT4DV",
        pair: "SOL/USD",
        time: 1710965243372,
        type: "sell",
        ordertype: "market",
        price: "184.545",
        cost: "16600.74939",
        fee: "19.92089",
        vol: 89.95502249,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:07:23.372Z",
      },
      {
        id: "TQE5HJ-LMDWA-M7TUU4",
        ordertxid: "OQYFIG-GEXHA-YUT4DV",
        pair: "SOL/USD",
        time: 1710965243372,
        type: "sell",
        ordertype: "market",
        price: "184.5",
        cost: "10218.8919",
        fee: "12.26267",
        vol: 55.38694797,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:07:23.372Z",
      },
    ],
  },
  {
    totalCost: 40031.94283733856,
    id: "TLTNVC-6UJBT-Z3FOHA",
    fee: 58.04634,
    ordertxid: "OKBER4-VUU5M-HDYGJQ",
    time: 1710965057895,
    date: "2024-03-20T20:04:17.895Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 218.17388458,
    highestPrice: 183.48641,
    lowestPrice: 183.48641,
    averagePrice: 183.48641,
    exchange: "Kraken",
    trades: [
      {
        id: "TLTNVC-6UJBT-Z3FOHA",
        ordertxid: "OKBER4-VUU5M-HDYGJQ",
        pair: "SOL/USD",
        time: 1710965057895,
        type: "buy",
        ordertype: "market",
        price: "183.48641",
        cost: "40031.94288",
        fee: "58.04634",
        vol: 218.17388458,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T20:04:17.895Z",
      },
    ],
  },
  {
    totalCost: 50031.67112822107,
    id: "TGNTGD-5MEF4-ST3WUT",
    fee: 72.54593,
    ordertxid: "OJKQ6H-XETSN-VHZGZM",
    time: 1710964090163,
    date: "2024-03-20T19:48:10.163Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 273.2389748,
    highestPrice: 183.10591,
    lowestPrice: 183.10591,
    averagePrice: 183.10591,
    exchange: "Kraken",
    trades: [
      {
        id: "TGNTGD-5MEF4-ST3WUT",
        ordertxid: "OJKQ6H-XETSN-VHZGZM",
        pair: "SOL/USD",
        time: 1710964090163,
        type: "buy",
        ordertype: "market",
        price: "183.10591",
        cost: "50031.67111",
        fee: "72.54593",
        vol: 273.2389748,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T19:48:10.163Z",
      },
    ],
  },
  {
    totalCost: 16398.469563621275,
    id: "TM7W4N-BAWFJ-MJ37ZO",
    fee: 19.67816,
    ordertxid: "ORDSSM-QCSLV-PAREST",
    time: 1710961355084,
    date: "2024-03-20T19:02:35.084Z",
    type: "sell",
    pair: "SOL/USD",
    amount: 89.95502248,
    highestPrice: 182.29632,
    lowestPrice: 182.29632,
    averagePrice: 182.29632,
    exchange: "Kraken",
    trades: [
      {
        id: "TM7W4N-BAWFJ-MJ37ZO",
        ordertxid: "ORDSSM-QCSLV-PAREST",
        pair: "SOL/USD",
        time: 1710961355084,
        type: "sell",
        ordertype: "market",
        price: "182.29632",
        cost: "16398.46957",
        fee: "19.67816",
        vol: 89.95502248,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T19:02:35.084Z",
      },
    ],
  },
  {
    totalCost: 31405.25217260187,
    id: "TA33LW-XTLM6-PKDDRF",
    fee: 45.53761,
    ordertxid: "O4KPJE-NXKO6-KSD6FI",
    time: 1710957745726,
    date: "2024-03-20T18:02:25.726Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 179.91004497,
    highestPrice: 174.56086,
    lowestPrice: 174.56086,
    averagePrice: 174.56086,
    exchange: "Kraken",
    trades: [
      {
        id: "TA33LW-XTLM6-PKDDRF",
        ordertxid: "O4KPJE-NXKO6-KSD6FI",
        pair: "SOL/USD",
        time: 1710957745726,
        type: "buy",
        ordertype: "market",
        price: "174.56086",
        cost: "31405.25219",
        fee: "45.53761",
        vol: 179.91004497,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T18:02:25.726Z",
      },
    ],
  },
  {
    totalCost: 12495.269501199527,
    id: "T7Q3PP-X2IKB-7ITXNI",
    fee: 14.99432,
    ordertxid: "O5TF2A-WFCHL-MPDQKI",
    time: 1710957738731,
    date: "2024-03-20T18:02:18.731Z",
    type: "buy",
    pair: "SOL/USD",
    amount: 71.66597928,
    highestPrice: 174.35427,
    lowestPrice: 174.35427,
    averagePrice: 174.35427,
    exchange: "Kraken",
    trades: [
      {
        id: "T7Q3PP-X2IKB-7ITXNI",
        ordertxid: "O5TF2A-WFCHL-MPDQKI",
        pair: "SOL/USD",
        time: 1710957738731,
        type: "buy",
        ordertype: "market",
        price: "174.35427",
        cost: "12495.2695",
        fee: "14.99432",
        vol: 71.66597928,
        margin: "",
        leverage: "",
        misc: "",
        exchange: "Kraken",
        date: "2024-03-20T18:02:18.731Z",
      },
    ],
  },
];

const orders = brokenOrdersAgain;

function positionIsClosed(balance: number): boolean {
  return Math.abs(balance) < 1;
}
function matchOrdersToPositions(
  orders: Order[],
  initialBalance: number = 0
): Position[] {
  const positions: Position[] = [];
  let openBalance: number = initialBalance;
  let openPositionOrders: Order[] = [];
  let openPositionTotalAmountBuy: number = 0;
  let openPositionTotalAmountSell: number = 0;
  let openPositionTotalCostBuy: number = 0;
  let openPositionTotalCostSell: number = 0;

  orders.forEach((order: Order, key: number) => {
    console.log("order.type is ", key, order.type);
    if (order.type === "buy") {
      openPositionTotalAmountBuy += order.amount;
      openPositionTotalCostBuy += order.totalCost;
      openBalance += order.amount; // Reflect the buy order in openBalance
    } else {
      // Assuming order.type === "sell"
      openPositionTotalAmountSell += order.amount;
      openPositionTotalCostSell += order.totalCost;
      openBalance -= order.amount; // Reflect the sell order in openBalance
    }

    openPositionOrders.push(order);
    console.log("openBalance ", openBalance);
    // Evaluate if position should be considered closed
    if (positionIsClosed(openBalance)) {
      const averageBuyPrice =
        openPositionTotalAmountBuy > 0
          ? openPositionTotalCostBuy / openPositionTotalAmountBuy
          : 0;
      const averageSellPrice =
        openPositionTotalAmountSell > 0
          ? openPositionTotalCostSell / openPositionTotalAmountSell
          : 0;

      const profitLoss = openPositionTotalCostSell - openPositionTotalCostBuy; // Adjust based on your profit/loss logic

      const positionType =
        openPositionTotalCostBuy >= openPositionTotalCostSell
          ? "long"
          : "short";
      const positionAmount =
        positionType === "long"
          ? openPositionTotalAmountBuy
          : openPositionTotalAmountSell;
      positions.push({
        Date: new Date(order.time).toISOString(), // Consider adjusting this based on actual opening/closing time
        ProfitLoss: profitLoss,
        Duration: "0", // Placeholder, calculate actual duration
        PositionType:
          openPositionTotalCostBuy >= openPositionTotalCostSell
            ? "long"
            : "short",
        AverageEntryPrice: averageBuyPrice,
        AverageExitPrice: averageSellPrice,
        TotalCostBuy: openPositionTotalCostBuy,
        TotalCostSell: openPositionTotalCostSell,
        Orders: openPositionOrders,
        amount: positionAmount,
      });

      // Reset for the next position
      openPositionOrders = [];
      openPositionTotalAmountBuy = 0;
      openPositionTotalAmountSell = 0;
      openPositionTotalCostBuy = 0;
      openPositionTotalCostSell = 0;
      openBalance = 0; // Reset balance for the next position
    }
  });

  return positions;
}

function mapOrdersToTypedOrders(inputOrders: any[]): Order[] {
  return inputOrders.map((order) => ({
    ...order,
    date: new Date(order.date),
    trades: order.trades.map((trade: any) => ({
      ...trade,
      date: trade.date ? new Date(trade.date) : undefined,
    })),
  }));
}

// import { Order } from "@/interfaces/Order";
//import Position from "./interfaces/Position";
interface Position {
  Date: string;
  ProfitLoss: number;
  Duration: string;
  PositionType: "long" | "short";
  AverageEntryPrice: number;
  AverageExitPrice: number;
  TotalCostBuy: number;
  TotalCostSell: number;
  Orders: Order[];
  amount: number;
}
interface Order {
  id: string;
  ordertxid?: string;
  time: number; // The time the trade position was opened
  date: Date;
  type: "buy" | "sell";
  pair: string;
  amount: number;
  highestPrice: number;
  lowestPrice: number;
  averagePrice: number;
  exchange: string;
  trades: Trade[]; // Add an array of trades
  orderId?: string;
  status?: string;
  totalCost: number;
  fee: number;
}
type Trade = {
  id: string;
  ordertxid: string;
  pair: string;
  time: number;
  type: "buy" | "sell" | string; // Assuming type can be 'buy' or 'sell'
  ordertype: string;
  price: string;
  cost: string;
  fee: string;
  vol: number;
  margin: string;
  leverage: string;
  misc: string;
  exchange: string;
  date?: Date;
};

const typedOrders = mapOrdersToTypedOrders(orders);

const positions = matchOrdersToPositions(typedOrders, 0);

console.log(positions);

let balanceBuyAmount = 0;
let balanceSellAmount = 0;
let balanceOpenBalance = 0;
typedOrders.forEach((order: Order) => {
  if (order.type === "buy") {
    balanceBuyAmount += order.amount;
    balanceSellAmount += order.totalCost;
    balanceOpenBalance += order.amount; // Reflect the buy order in openBalance
  } else {
    // Assuming order.type === "sell"
    balanceBuyAmount += order.amount;
    balanceSellAmount += order.totalCost;
    balanceOpenBalance -= order.amount; // Reflect the sell order in openBalance
  }
});
console.log("balanceBuyAmount ", balanceBuyAmount);
console.log("balanceSelllAmount ", balanceSellAmount);
console.log("balanceOpenBalance ", balanceOpenBalance);
/* // function isFirstOrder(): boolean {
    return positions.length === 0;
  }if (isFirstOrder() && isZeroBalance(balance)) {
    // }*/
